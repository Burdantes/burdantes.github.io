---
---
<!-- _layouts/selected_papers_compact.html -->
<div class="row mb-3">
  <div class="col-sm-2 abbr">
    {%- if entry.abbr -%}
      {%- if site.data.venues[entry.abbr] -%}
      <abbr class="badge" style="background-color: purple;"><a href="{{site.data.venues[entry.abbr].url}}">{{entry.abbr}}</a></abbr>
      {%- else -%}
      <abbr class="badge" style="background-color: purple;">{{entry.abbr}}</abbr>
      {%- endif -%}
    {%- endif -%}
  </div>

  <div id="{{entry.key}}" class="col-sm-10">
    <!-- Title -->
    <div class="title"><strong>{{entry.title}}</strong></div>
    
    <!-- Author -->
    <div class="author">
    {%- for author in entry.author_array -%}
      {%- assign author_is_self = false -%}
      {%- if author.last == site.scholar.last_name%}
        {%- if site.scholar.first_name contains author.first -%}
          {%- assign author_is_self = true -%}
        {%- endif -%}
      {%- endif -%}
      {%- assign coauthor_url = nil -%}
      {%- if site.data.coauthors[author.last] -%}
        {%- for coauthor in site.data.coauthors[author.last] -%}
          {%- if coauthor.firstname contains author.first -%}
            {%- assign coauthor_url = coauthor.url -%}
            {%- break -%}
          {%- endif -%}
        {%- endfor -%}
      {%- endif -%}

      {%- if forloop.length == 1 -%}
        {%- if author_is_self %}
          <em>{{author.last}}, {{author.first}}</em>
        {%- else -%}
          {{author.last}}, {{author.first}}
        {%- endif -%}
      {%- else -%}
        {%- unless forloop.last -%}
          {% if author_is_self %}
            <em>{{author.last}}, {{author.first}}</em>,&nbsp;
          {%- else -%}
            {% if coauthor_url -%}
              <a href="{{coauthor_url}}">{{author.last}}, {{author.first}}</a>,&nbsp;
            {%- else -%}
              {{author.last}}, {{author.first}},&nbsp;
            {%- endif -%}
          {%- endif -%}
        {%- else -%}
          {% if author_is_self -%}
            and <em>{{author.last}}, {{author.first}}</em>
          {% else -%}
            {%- if coauthor_url -%}
              and <a href="{{coauthor_url}}">{{author.last}}, {{author.first}}</a>
            {% else -%}
              and {{author.last}}, {{author.first}}
            {%- endif -%}
          {%- endif -%}
        {%- endunless -%}
      {%- endif -%}
    {%- endfor %}
    </div>

    <!-- Compact venue and year -->
    <div class="periodical">
      {% if entry.type == "article" -%}
        <em>{{entry.journal}}</em>
      {%- elsif entry.type == "inproceedings" -%}
        <em>{{entry.booktitle}}</em>
      {%- endif -%}
      {%- if entry.year -%}, {{entry.year}}{%- endif -%}
      {%- if entry.status -%} ({{entry.status}}){%- endif -%}
    </div>

    <!-- Links -->
    <div class="links">
    {%- if entry.abstract %}
      <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
    {%- endif %}
    {%- if entry.pdf %}
      {% if entry.pdf contains '://' -%}
      <a href="{{ entry.pdf }}" class="btn btn-sm z-depth-0" role="button">PDF</a>
      {%- else -%}
      <a href="{{ entry.pdf | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button">PDF</a>
      {%- endif %}
    {%- endif %}
    {%- if entry.slides %}
      {% if entry.slides contains '://' -%}
      <a href="{{ entry.slides }}" class="btn btn-sm z-depth-0" role="button">Slides</a>
      {%- else -%}
      <a href="{{ entry.slides | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button">Slides</a>
      {%- endif %}
    {%- endif %}
    {%- if entry.code %}
      <a href="{{ entry.code }}" class="btn btn-sm z-depth-0" role="button">Code</a>
    {%- endif %}
    {%- if entry.website %}
      <a href="{{ entry.website }}" class="btn btn-sm z-depth-0" role="button">Website</a>
    {%- endif %}
    </div>

    {% if entry.abstract -%}
    <div class="abstract hidden">
      <p><em>{{ entry.abstract }}</em></p>
    </div>
    {%- endif -%}
  </div>
</div>
